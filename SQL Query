CREATE TABLE `board` (
  `board_no` number NOT NULL,
  `board_writer` varchar2(50) NOT NULL,
  `board_title` varchar2(50) NOT NULL,
  `board_content` varchar2(2400) NOT NULL,
  `board_viewcnt` number DEFAULT '0',
  `board_pwd` varchar2(100) NOT NULL,
  `board_date` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `board_newdate` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`board_no`),
  KEY `writer_fk_idx` (`board_writer`),
  CONSTRAINT `writer_fk` FOREIGN KEY (`board_writer`) REFERENCES `member` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE `comment` (
  `idx` number NOT NULL,
  `board_id` number DEFAULT NULL,
  `member_id` varchar2(50) DEFAULT NULL,
  `content` varchar2(100) DEFAULT NULL,
  PRIMARY KEY (`idx`),
  KEY `board_id_fk_idx` (`board_id`),
  KEY `member_id_fk_idx` (`member_id`),
  CONSTRAINT `board_id_fk` FOREIGN KEY (`board_id`) REFERENCES `board` (`board_no`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `member_id_fk` FOREIGN KEY (`member_id`) REFERENCES `member` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
);


CREATE TABLE `likecnt` (
  `board_id` number DEFAULT NULL,
  `member_id` varchar2(50) DEFAULT NULL,
  `count` number DEFAULT NULL,
  KEY `board_fk_id_idx` (`board_id`),
  KEY `member_fk_id_idx` (`member_id`),
  CONSTRAINT `board_fk_id` FOREIGN KEY (`board_id`) REFERENCES `board` (`board_no`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `member_fk_id` FOREIGN KEY (`member_id`) REFERENCES `member` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
);


CREATE TABLE `member` (
  `id` varchar2(50) NOT NULL,
  `pwd` varchar2(200) NOT NULL,
  `email` varchar2(200) NOT NULL,
  `phone` varchar2(150) NOT NULL,
  `addr` varchar2(200) DEFAULT NULL,
  PRIMARY KEY (`id`)
);
